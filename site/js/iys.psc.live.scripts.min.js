/*!
 * Organization: MINISTERIOS INTEGRIDAD & SABIDURIA
 * Theme: Conferencia Por Su Causa
 * Version: 1.0.0
 * UI/UX Designer and Developer: WILVIN JIMENEZ
 * Last Updated: 14-05-2019
*/

"use strict";var common=function(n,r){var e={getTimestamp:function(){var e=new Date;return e.getDate()+""+(e.getMonth()+1)+e.getFullYear()+e.getHours()+e.getMinutes()+e.getSeconds()},getContextProtocol:function(){return/^http:/.test(r.location)?"http":"https"},loadScript:function(e,t){var n="script",o=r.createElement(n),i=r.body.getElementsByTagName(n)[0],a=t;o.id=e,o.src=a,i.parentNode.insertBefore(o,i)},shuffle:function(e){for(var t,n=e.length,o=0;n--;)o=Math.floor(Math.random()*(n+1)),t=e[n],e[n]=e[o],e[o]=t;return e},setCookie:function(e,t,n){var o="expires="+new Date(n).toUTCString();r.cookie=e+"="+t+"; "+o+"; path=/"},getCookie:function(e){for(var t=e+"=",n=r.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},deleteCookie:function(e){this.setCookie(e,"",-1)},probablyIsMobile:function(){var e=Math.max(r.documentElement.clientWidth,n.innerWidth||0),t=!!n.navigator.userAgent.match(/iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone/i);return!!(e<=1280&&t)}};return e}(window,document),donationsModule=function(o,e){var t,n,i,a,r,s,l={};return l.initialize=function(){t=$("#donations-form"),n=t.find(".amount-btn"),i=$("#donation-amount"),a=$("#donation-amount-value"),r=$("#donate-btn"),s=$("#donations-form-alert"),n.on("click",function(e){e.preventDefault();var t=$(this);s.hide(),n.removeClass("selected"),0<!t.find(i).length&&i.val(null),a.val(parseInt(t.text().split("$")[1].trim())),t.addClass("selected")}),i.on("keydown",function(e){var t=(e=e||o.event).which?e.which:e.keyCode,n=$(this);if(69===t||187===t||189===t||190===t||7<=n.val().length&&!(36<t&&t<41||8===t||9===t||18===t||46===t))return!1;a.val(n.val())}).on("keyup",function(e){var t=$(this);a.val(parseInt(t.val()))}).on("blur",function(){var e=$(this);e.val()||e.closest(".amount-btn").removeClass("selected")}),r.on("click",function(){if(!parseInt(a.val()))return i.val(null),a.val(null),s.fadeIn(),!1;s.fadeOut()})},l}(window,document),adsModule=function(t,e){var n,i,a,r,o={};function s(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];o.active&&t.push(o)}return t}function l(e,t,n){e.attr({title:t,href:n.url,target:n.target}).find("img").attr({alt:n.description,src:a+n.image})}return o.initialize=function(){var e="js/iys.psc.live.ads.definition.min.js?"+common.getTimestamp();common.loadScript("iys-psc-ads-definition",e)},o.initializeAds=function(){var o,e;n=this.adsDefinitionList.randomAds,i=this.adsDefinitionList.staticAds,a="img/ads/",r=$("#random-ads"),function(o){var e=s(o.adsList),i=r.find(".ad");$(t).resize(function(){r.height(i.height())}),r.find("img").load(function(){$(t).resize()}),common.shuffle(e),$.each(e,function(e,t){var n=e?i.clone():i;l(n.find("a"),o.linkTitle,t),n.appendTo(r)});setInterval(function(){var e=r.find(".ad").first();e.hide().remove(),r.append(e),e.fadeIn(1e3)},7e3)}(n),e=s((o=i).adsList).slice(0,8),common.shuffle(e),$.each(e,function(e,t){if(e<8){var n=$("#static-ad-0"+(1+e));l(n,o.linkTitle,t)}})},o}(window,document),videoPlayerModule=function(n,o){var i,t,a,r,s,l,c,e={};function d(e,t){common.loadScript("yt-wjs","https://www.youtube.com/iframe_api"),n.onYouTubeIframeAPIReady=function(){new YT.Player("yt-video",{videoId:t,playerVars:{enablejsapi:1,rel:0,hl:e,modestbranding:1,origin:o.domain},events:{onReady:u,onStateChange:f,onError:m}})},h("<b>Espere un momento por favor.</b><br>Wait a moment please."),c.fadeOut(400)}function u(e){r.fadeOut(400,function(){$(this).html(null)}),l?a.fadeOut():e.target.playVideo()}function f(e){s=e.data;var t=i.find(".theater-mode-overlay");switch(s){case YT.PlayerState.ENDED:t.fadeOut();break;case YT.PlayerState.PLAYING:t.fadeIn();break;case YT.PlayerState.PAUSED:t.fadeOut();break;case YT.PlayerState.BUFFERING:a.fadeOut()}}function m(e){h("<b>Ha ocurrido un error cargando la transmisi&oacute;n en vivo. Favor intente m&aacute;s tarde.</b><br>An error has occurred loading the live broadcast. Please try again later.<br><b>(Error: "+e.data+"-PSC)</b>")}function h(e){r.fadeIn(400,function(){$(this).html(e)})}return e.initialize=function(){var e;l=common.probablyIsMobile(),i=$("#main"),t=$("#video-container"),a=t.find(".video-thumbnail"),r=$("#player-alert-message"),c=$("#language-selection"),e="url(img/player-live-preview-image.jpg?"+common.getTimestamp()+")",a.css("background-image",e),a.on("mouseenter mouseleave",function(){$(this).toggleClass("active")}),$("#video-play-btn").on("click",function(e){e.preventDefault(),c.fadeIn(400),t.find(".video-player-watch-control").fadeOut(400)}),$("#language-btn-es").on("click",function(e){e.preventDefault(),d("es",$("#video-es").val())}),$("#language-btn-en").on("click",function(e){e.preventDefault(),d("en",$("#video-en").val())})},e}(window,document),socialModule=function(i,a){var e={};return e.initialize=function(){var e,t,n,o;i.twttr=(e="twitter-wjs",n=a.body.getElementsByTagName("script")[0],o=i.twttr||{},a.getElementById(e)||((t=a.createElement("script")).id=e,t.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(t,n),o._e=[],o.ready=function(e){o._e.push(e)}),o),twttr.ready(function(e){e.events.bind("rendered",function(e){var t=$("#tw-widget");t.find(".twitter-timeline").contents().find("head").append('<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,400italic,300italic">').append('<style> .SandboxRoot { font-family: "Open Sans", arial, sans-serif; font-weight: 400; line-height: 1.42857143; color: #777; } .timeline-Header-title, .timeline-Tweet-text { font-weight: 400 !important; } .Avatar { border-radius: 50%; } </style>'),t.css("opacity",0).slideDown(300,function(){$(this).fadeTo(200,1)})})})},e}(window,document),subscriptionsModule=function(c,t){var n,d,u,f,m,h,v,g,p,e={},b="WC_SC_PSC17_3";return e.initialize=function(){n=$("#subscription-modal"),d=$("#first-name"),u=$("#last-name"),f=$("#email-address"),m=$("#church-name"),h=$("#country-name"),v=$("#webcast-people-amount"),$("#newsletter-yes"),$("#newsletter-no"),p=$("#subscriptions-form-alert"),n.on("show.bs.modal hidden.bs.modal",function(e){$(t.body).toggleClass("solid-blank"),$("#content").toggle(),$("footer").toggle()}),""===common.getCookie(b)&&n.modal({show:!0,backdrop:"static",keyboard:!1}),$("#btn-subscribe-later").on("click",function(e){e.preventDefault(),n.modal("hide");var t=new Date;t.setHours(t.getHours()+2),common.setCookie(b,"UNCONFIRMED",t)}),$("#sign-up-form").on("submit",function(){var e,t,n,o,i,a,r;if(g=!0,e=[d,u,m],t=[v],n=[f],r=[d,u,f,h,v],$.each(r,function(e,t){""===this.val()&&(g=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Debes llenar este campo correctamente."))}),a=e,$.each(a,function(e,t){var n=this.val();$.isNumeric(n)&&""!==n&&(g=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Este es un campo de texto."))}),i=t,$.each(i,function(e,t){var n=this.val();(!$.isNumeric(n)||n<1||n!=~~n)&&""!==n&&(g=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Debes ingresar un n&uacute;mero entero mayor que 0."))}),o=n,$.each(o,function(e,t){/^(([\w\.\-_]+)?\w+@[\w-_]+(\.\w+){1,})?$/.test(this.val())||(g=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Formato de e-mail incorrecto."))}),g){var s=new Date;s.setTime(s.getTime()+864e5),s.setHours(8),s.setMinutes(0),s.setSeconds(0),common.setCookie(b,"CONFIRMED",s)}else{var l;c.clearTimeout(l),p.fadeIn(),l=c.setTimeout(function(){p.fadeOut()},5e3)}return g}).find(".form-control").on("focus",function(){$(this).closest(".form-group").removeClass("has-error").siblings(".field-error").text(null)})},e}(window,document);$(document).ready(function(){videoPlayerModule.initialize(),donationsModule.initialize()});