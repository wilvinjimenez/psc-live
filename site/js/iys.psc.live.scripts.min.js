/*!
 * Organization: MINISTERIOS INTEGRIDAD & SABIDURIA
 * Theme: Conferencia Por Su Causa
 * Version: 1.0.0
 * UI/UX Designer and Developer: WILVIN JIMENEZ
 * Last Updated: 25-05-2016
*/
"use strict";var common=function(a,b){var c={};return c.getTimestamp=function(){var a=new Date,b=a.getDate()+""+(a.getMonth()+1)+a.getFullYear()+a.getHours()+a.getMinutes()+a.getSeconds();return b},c.getContextProtocol=function(){var a=/^http:/.test(b.location)?"http":"https";return a},c.loadScript=function(a,c){var d="script",e=b.createElement(d),f=b.body.getElementsByTagName(d)[0],g=c;e.id=a,e.src=g,f.parentNode.insertBefore(e,f)},c.shuffle=function(a){for(var b,c=a.length,d=0;c--;)d=Math.floor(Math.random()*(c+1)),b=a[c],a[c]=a[d],a[d]=b;return a},c.setCookie=function(a,c,d){var e="expires="+new Date(d).toUTCString();b.cookie=a+"="+c+"; "+e+"; path=/"},c.getCookie=function(a){for(var c=a+"=",d=b.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(c))return f.substring(c.length,f.length)}return""},c.deleteCookie=function(a){this.setCookie(a,"",-1)},c.probablyIsMobile=function(){var c=Math.max(b.documentElement.clientWidth,a.innerWidth||0),d=!!a.navigator.userAgent.match(/iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone/i);return!!(1280>=c&&d)},c}(window,document),donationsModule=function(a,b){var c,d,e,f,g,h,i={};return i.initialize=function(){c=$("#donations-form"),d=c.find(".amount-btn"),e=$("#donation-amount"),f=$("#donation-amount-value"),g=$("#donate-btn"),h=$("#donations-form-alert"),d.on("click",function(a){a.preventDefault();var b=$(this);h.hide(),d.removeClass("selected"),!b.find(e).length>0&&e.val(null),f.val(parseInt(b.text().split("$")[1].trim())),b.addClass("selected")}),e.on("keydown",function(b){b=b?b:a.event;var c=b.which?b.which:b.keyCode,d=$(this);return 69===c||187===c||189===c||190===c||d.val().length>=7&&!(c>36&&41>c||8===c||9===c||18===c||46===c)?!1:void f.val(d.val())}).on("keyup",function(a){var b=$(this);f.val(parseInt(b.val()))}).on("blur",function(){var a=$(this);a.val()||a.closest(".amount-btn").removeClass("selected")}),g.on("click",function(){return parseInt(f.val())?void h.fadeOut():(e.val(null),f.val(null),h.fadeIn(),!1)})},i}(window,document),adsModule=function(a,b){function c(b){var c=e(b.adsList),d=j.find(".ad"),g=7;$(a).resize(function(){j.height(d.height())}),j.find("img").load(function(){$(a).resize()}),common.shuffle(c),$.each(c,function(a,c){var e=a?d.clone():d;f(e.find("a"),b.linkTitle,c),e.appendTo(j)});setInterval(function(){var a=j.find(".ad").first();a.hide().remove(),j.append(a),a.fadeIn(1e3)},1e3*g)}function d(a){var b=8,c=e(a.adsList),d=c.slice(0,b);common.shuffle(d),$.each(d,function(c,d){if(b>c){var e=$("#static-ad-0"+(1+c));f(e,a.linkTitle,d)}})}function e(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.active&&b.push(d)}return b}function f(a,b,c){a.attr({title:b,href:c.url,target:c.target}).find("img").attr({alt:c.description,src:i+c.image})}var g,h,i,j,k={};return k.initialize=function(){var a="js/iys.psc.live.ads.definition.min.js?"+common.getTimestamp(),b="iys-psc-ads-definition";common.loadScript(b,a)},k.initializeAds=function(){g=this.adsDefinitionList.randomAds,h=this.adsDefinitionList.staticAds,i="img/ads/",j=$("#random-ads"),c(g),d(h)},k}(window,document),videoPlayerModule=function(a,b){function c(){var a="url(img/player-live-preview-image.jpg?"+common.getTimestamp()+")";m.css("background-image",a)}function d(c,d){e(),a.onYouTubeIframeAPIReady=function(){o=new YT.Player("yt-video",{videoId:d,playerVars:{enablejsapi:1,rel:0,hl:c,modestbranding:1,origin:b.domain},events:{onReady:f,onStateChange:g,onError:h}})},i("<b>Espere un momento por favor.</b><br>Wait a moment please."),r.fadeOut(400)}function e(){var a="https://www.youtube.com/iframe_api",b="yt-wjs";common.loadScript(b,a)}function f(a){j(),q?m.fadeOut():a.target.playVideo()}function g(a){p=a.data;var b=k.find(".theater-mode-overlay");switch(p){case YT.PlayerState.ENDED:b.fadeOut();break;case YT.PlayerState.PLAYING:b.fadeIn();break;case YT.PlayerState.PAUSED:b.fadeOut();break;case YT.PlayerState.BUFFERING:m.fadeOut()}}function h(a){i("<b>Ha ocurrido un error cargando la transmisi&oacute;n en vivo. Favor intente m&aacute;s tarde.</b><br>An error has occurred loading the live broadcast. Please try again later.<br><b>(Error: "+a.data+"-PSC)</b>")}function i(a){n.fadeIn(400,function(){$(this).html(a)})}function j(){n.fadeOut(400,function(){$(this).html(null)})}var k,l,m,n,o,p,q,r,s={};return s.initialize=function(){q=common.probablyIsMobile(),k=$("#main"),l=$("#video-container"),m=l.find(".video-thumbnail"),n=$("#player-alert-message"),r=$("#language-selection"),c(),m.on("mouseenter mouseleave",function(){$(this).toggleClass("active")}),$("#video-play-btn").on("click",function(a){a.preventDefault(),r.fadeIn(400),l.find(".video-player-watch-control").fadeOut(400)}),$("#language-btn-es").on("click",function(a){a.preventDefault(),d("es",$("#video-es").val())}),$("#language-btn-en").on("click",function(a){a.preventDefault(),d("en",$("#video-en").val())})},s}(window,document),socialModule=function(a,b){function c(){d(),twttr.ready(function(a){a.events.bind("rendered",function(a){var b=$("#tw-widget");e(b),b.css("opacity",0).slideDown(300,function(){$(this).fadeTo(200,1)})})})}function d(){a.twttr=function(c,d){var e,f=b.body.getElementsByTagName(c)[0],g=a.twttr||{},h="https://platform.twitter.com/widgets.js";return b.getElementById(d)?g:(e=b.createElement(c),e.id=d,e.src=h,f.parentNode.insertBefore(e,f),g._e=[],g.ready=function(a){g._e.push(a)},g)}("script","twitter-wjs")}function e(a){var b=a.find(".twitter-timeline"),c=b.contents(),d='<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,400italic,300italic">',e='<style> .SandboxRoot { font-family: "Open Sans", arial, sans-serif; font-weight: 400; line-height: 1.42857143; color: #777; } .timeline-Header-title, .timeline-Tweet-text { font-weight: 400 !important; } .Avatar { border-radius: 50%; } </style>';c.find("head").append(d).append(e)}var f={};return f.initialize=function(){c()},f}(window,document),subscriptionsModule=function(a,b){function c(){var a=[i,j,k,m,n],b=[i,j,l],c=[n],h=[k];d(a),f(b),g(c),e(h)}function d(a){$.each(a,function(a,b){""===this.val()&&(q=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Debes llenar este campo correctamente."))})}function e(a){$.each(a,function(a,b){var c=/^(([\w\.\-_]+)?\w+@[\w-_]+(\.\w+){1,})?$/;c.test(this.val())||(q=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Formato de e-mail incorrecto."))})}function f(a){$.each(a,function(a,b){var c=this.val();$.isNumeric(c)&&""!==c&&(q=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Este es un campo de texto."))})}function g(a){$.each(a,function(a,b){var c=this.val();(!$.isNumeric(c)||1>c||c!=~~c)&&""!==c&&(q=!1,this.closest(".form-group").addClass("has-error").find(".field-error").html("Debes ingresar un n&uacute;mero entero mayor que 0."))})}var h,i,j,k,l,m,n,o,p,q,r,s={},t="WC_SC",u="CONFIRMED",v="UNCONFIRMED";return s.initialize=function(){h=$("#subscription-modal"),i=$("#first-name"),j=$("#last-name"),k=$("#email-address"),l=$("#church-name"),m=$("#country-name"),n=$("#webcast-people-amount"),o=$("#newsletter-yes"),p=$("#newsletter-no"),r=$("#subscriptions-form-alert"),h.on("show.bs.modal hidden.bs.modal",function(a){$(b.body).toggleClass("solid-blank"),$("#content").toggle(),$("footer").toggle()}),""===common.getCookie(t)&&h.modal({show:!0,backdrop:"static",keyboard:!1}),$("#btn-subscribe-later").on("click",function(a){a.preventDefault(),h.modal("hide");var b=new Date;b.setHours(b.getHours()+1),common.setCookie(t,v,b)}),$("#sign-up-form").on("submit",function(){if(q=!0,c(),q){var b=new Date;b.setTime(b.getTime()+864e5),b.setHours(9),b.setMinutes(0),b.setSeconds(0),common.setCookie(t,u,b)}else{var d;a.clearTimeout(d),r.fadeIn(),d=a.setTimeout(function(){r.fadeOut()},5e3)}return q}).find(".form-control").on("focus",function(){$(this).closest(".form-group").removeClass("has-error").siblings(".field-error").text(null)})},s}(window,document);!function(){$(document).ready(function(){subscriptionsModule.initialize(),videoPlayerModule.initialize(),socialModule.initialize(),adsModule.initialize(),donationsModule.initialize()})}();